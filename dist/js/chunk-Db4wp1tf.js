import{a as e,n as t,w as o,r as a,G as n,u as r,b as l,g as i,o as s,c,y as u,z as d,d as g,p as h,C as p,H as v,I as f,J as C,K as b,L as y,M as m,N as S,O as k,P as w,Q as _,F as A,R as x,S as R,U as B,V as H,W as P,E as V,X as E,Y as M,Z as I,_ as N,$ as K,a0 as T,a1 as O}from"./chunk-Bxt8shZV.js";import{t as L}from"./chunk-DJ_qK68I.js";import{n as D}from"./chunk-DA-uKSXM.js";import{C as W}from"./chunk-DhXw3eq8.js";import{V as z}from"./chunk-COkxTHpp.js";import{c as j}from"./chunk-CFrBDmKk.js";import{m as F}from"./chunk-CKleymLE.js";function G(e){return!!i()&&(s(e),!0)}function X(e){return"function"==typeof e?e():r(e)}const q="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const Y=Object.prototype.toString,J=()=>{},U=$();function $(){var e,t;return q&&(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||(null==(t=null==window?void 0:window.navigator)?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(null==window?void 0:window.navigator.userAgent))}function Z(e,t){return function(...o){return new Promise(((a,n)=>{Promise.resolve(e((()=>t.apply(this,o)),{fn:t,thisArg:this,args:o})).then(a).catch(n)}))}}const Q=e=>e();function ee(e,t=200,o={}){return Z(function(e,t={}){let o,a,n=J;const r=e=>{clearTimeout(e),n(),n=J};return l=>{const i=X(e),s=X(t.maxWait);return o&&r(o),i<=0||void 0!==s&&s<=0?(a&&(r(a),a=null),Promise.resolve(l())):new Promise(((e,c)=>{n=t.rejectOnCancel?c:e,s&&!a&&(a=setTimeout((()=>{o&&r(o),a=null,e(l())}),s)),o=setTimeout((()=>{a&&r(a),a=null,e(l())}),i)}))}}(t,o),e)}function te(e,t,r={}){const{eventFilter:l,...i}=r,{eventFilter:s,pause:c,resume:u,isActive:d}=function(e=Q){const t=a(!0);return{isActive:n(t),pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...o)=>{t.value&&e(...o)}}}(l),g=function(e,t,a={}){const{eventFilter:n=Q,...r}=a;return o(e,Z(n,t),r)}(e,t,{...i,eventFilter:s});return{stop:g,pause:c,resume:u,isActive:d}}function oe(o,a=!0,n){l()?e(o,n):a?o():t(o)}function ae(e,a,n){const r=o(e,((e,o,l)=>{e&&((null==n?void 0:n.once)&&t((()=>r())),a(e,o,l))}),{...n,once:!1});return r}function ne(e){var t;const o=X(e);return null!=(t=null==o?void 0:o.$el)?t:o}const re=q?window:void 0,le=q?window.navigator:void 0;function ie(...e){let t,a,n,r;if("string"==typeof e[0]||Array.isArray(e[0])?([a,n,r]=e,t=re):[t,a,n,r]=e,!t)return J;Array.isArray(a)||(a=[a]),Array.isArray(n)||(n=[n]);const l=[],i=()=>{l.forEach((e=>e())),l.length=0},s=o((()=>[ne(t),X(r)]),(([e,t])=>{if(i(),!e)return;const o=(r=t,"[object Object]"===Y.call(r)?{...t}:t);var r;l.push(...a.flatMap((t=>n.map((a=>((e,t,o,a)=>(e.addEventListener(t,o,a),()=>e.removeEventListener(t,o,a)))(e,t,a,o))))))}),{immediate:!0,flush:"post"}),c=()=>{s(),i()};return G(c),c}let se=!1;function ce(t){const o=function(){const t=a(!1),o=l();return o&&e((()=>{t.value=!0}),o),t}();return c((()=>(o.value,Boolean(t()))))}function ue(e,t={}){const{controls:o=!1,navigator:n=le}=t,r=ce((()=>n&&"permissions"in n));let l;const i="string"==typeof e?{name:e}:e,s=a(),c=()=>{l&&(s.value=l.state)},u=function(e){let t;function o(){return t||(t=e()),t}return o.reset=async()=>{const e=t;t=void 0,e&&await e},o}((async()=>{if(r.value){if(!l)try{l=await n.permissions.query(i),ie(l,"change",c),c()}catch(e){s.value="prompt"}return l}}));return u(),o?{state:s,isSupported:r,query:u}:s}function de(e={}){const{navigator:t=le,read:o=!1,source:r,copiedDuring:l=1500,legacy:i=!1}=e,s=ce((()=>t&&"clipboard"in t)),u=ue("clipboard-read"),d=ue("clipboard-write"),g=c((()=>s.value||i)),h=a(""),p=a(!1),v=function(e,t,o={}){const{immediate:r=!0}=o,l=a(!1);let i=null;function s(){i&&(clearTimeout(i),i=null)}function c(){l.value=!1,s()}function u(...o){s(),l.value=!0,i=setTimeout((()=>{l.value=!1,i=null,e(...o)}),X(t))}return r&&(l.value=!0,q&&u()),G(c),{isPending:n(l),start:u,stop:c}}((()=>p.value=!1),l);function f(e){return"granted"===e||"prompt"===e}return g.value&&o&&ie(["copy","cut"],(function(){var e,o,a;s.value&&f(u.value)?t.clipboard.readText().then((e=>{h.value=e})):h.value=null!=(a=null==(o=null==(e=null==document?void 0:document.getSelection)?void 0:e.call(document))?void 0:o.toString())?a:""})),{isSupported:g,text:h,copied:p,copy:async function(e=X(r)){g.value&&null!=e&&(s.value&&f(d.value)?await t.clipboard.writeText(e):function(e){const t=document.createElement("textarea");t.value=null!=e?e:"",t.style.position="absolute",t.style.opacity="0",document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}(e),h.value=e,p.value=!0,v.start())}}}const ge="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},he="__vueuse_ssr_handlers__",pe=ve();function ve(){return he in ge||(ge[he]=ge[he]||{}),ge[he]}const fe={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Ce="vueuse-storage";function be(e,o,n,r={}){var l;const{flush:i="pre",deep:s=!0,listenToStorageChanges:c=!0,writeDefaults:d=!0,mergeDefaults:g=!1,shallow:h,window:p=re,eventFilter:v,onError:f=e=>{},initOnMounted:C}=r,b=(h?u:a)("function"==typeof o?o():o);if(!n)try{n=function(e,t){return pe[e]||t}("getDefaultStorage",(()=>{var e;return null==(e=re)?void 0:e.localStorage}))()}catch(R){f(R)}if(!n)return b;const y=X(o),m=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(y),S=null!=(l=r.serializer)?l:fe[m],{pause:k,resume:w}=te(b,(()=>function(t){try{const o=n.getItem(e);if(null==t)_(o,null),n.removeItem(e);else{const a=S.write(t);o!==a&&(n.setItem(e,a),_(o,a))}}catch(R){f(R)}}(b.value)),{flush:i,deep:s,eventFilter:v});function _(t,o){p&&p.dispatchEvent(new CustomEvent(Ce,{detail:{key:e,oldValue:t,newValue:o,storageArea:n}}))}function A(o){if(!o||o.storageArea===n)if(o&&null==o.key)b.value=y;else if(!o||o.key===e){k();try{(null==o?void 0:o.newValue)!==S.write(b.value)&&(b.value=function(t){const o=t?t.newValue:n.getItem(e);if(null==o)return d&&null!=y&&n.setItem(e,S.write(y)),y;if(!t&&g){const e=S.read(o);return"function"==typeof g?g(e,y):"object"!==m||Array.isArray(e)?e:{...y,...e}}return"string"!=typeof o?o:S.read(o)}(o))}catch(R){f(R)}finally{o?t(w):w()}}}function x(e){A(e.detail)}return p&&c&&oe((()=>{ie(p,"storage",A),ie(p,Ce,x),C&&A()})),C||A(),b}function ye(e,t,o={}){const{window:a=re}=o;return be(e,t,null==a?void 0:a.localStorage,o)}var me=Object.defineProperty,Se=(e,t,o)=>(((e,t,o)=>{t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o})(e,"symbol"!=typeof t?t+"":t,o),o);const ke=e=>Math.round(100*e)/100;class we{constructor(e){Se(this,"instance"),Se(this,"alphaValue",0),Se(this,"redValue",0),Se(this,"greenValue",0),Se(this,"blueValue",0),Se(this,"hueValue",0),Se(this,"saturationValue",0),Se(this,"brightnessValue",0),Se(this,"hslSaturationValue",0),Se(this,"lightnessValue",0),Se(this,"initAlpha",(()=>{const e=this.instance.getAlpha();this.alphaValue=100*Math.min(1,e)})),Se(this,"initLightness",(()=>{const{s:e,l:t}=this.instance.toHsl();this.hslSaturationValue=ke(e),this.lightnessValue=ke(t)})),Se(this,"initRgb",(()=>{const{r:e,g:t,b:o}=this.instance.toRgb();this.redValue=ke(e),this.greenValue=ke(t),this.blueValue=ke(o)})),Se(this,"initHsb",(()=>{const{h:e,s:t,v:o}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(e)),this.saturationValue=ke(t),this.brightnessValue=ke(o)})),Se(this,"toHexString",(()=>this.instance.toHexString())),Se(this,"toRgbString",(()=>this.instance.toRgbString())),this.instance=L(e),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(e){return this.instance.toString(e)}get hex(){return this.instance.toHex()}set hex(e){this.instance=L(e),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(e){0===this.saturation&&0===this.brightness&&(this.saturationValue=1,this.brightnessValue=1),this.instance=L({h:ke(e),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=ke(e)}get hue(){return this.hueValue}set saturation(e){this.instance=L({h:this.hue,s:ke(e),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=ke(e)}get saturation(){return this.saturationValue}set brightness(e){this.instance=L({h:this.hue,s:this.saturation,v:ke(e),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=ke(e)}get brightness(){return this.brightnessValue}set lightness(e){this.instance=L({h:this.hue,s:this.hslSaturationValue,l:ke(e),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=ke(e)}get lightness(){return this.lightnessValue}set red(e){const t=this.instance.toRgb();this.instance=L({...t,r:ke(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=ke(e)}get red(){return this.redValue}set green(e){const t=this.instance.toRgb();this.instance=L({...t,g:ke(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=ke(e)}get green(){return this.greenValue}set blue(e){const t=this.instance.toRgb();this.instance=L({...t,b:ke(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=ke(e)}get blue(){return this.blueValue}set alpha(e){this.instance.setAlpha(e/100),this.alphaValue=e}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,parseFloat((this.alpha/100).toFixed(2))]}get HSB(){return[this.hue,this.saturation,this.brightness,parseFloat((this.alpha/100).toFixed(2))]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,parseFloat((this.alpha/100).toFixed(2))]}}function _e(e,t,o,a){return"rgba(".concat([e,t,o,a/100].join(","),")")}const Ae=(e,t,o)=>t<o?e<t?t:e>o?o:e:e<o?o:e>t?t:e,xe="color-history",Re=(e,t)=>{const o=e.__vccOpts||e;for(const[a,n]of t)o[a]=n;return o},Be=d({name:"Alpha",props:{color:W.instanceOf(we),size:W.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=a(null),r=a(null);let l=e.color||new we;const i=g({red:l.red,green:l.green,blue:l.blue,alpha:l.alpha});o((()=>e.color),(e=>{e&&(l=e,F(i,{red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}))}),{deep:!0});const s=c((()=>{const e=_e(i.red,i.green,i.blue,0),t=_e(i.red,i.green,i.blue,100);return{background:"linear-gradient(to right, ".concat(e," , ").concat(t,")")}})),u=()=>{if(n.value&&r.value){const e=i.alpha/100,t=n.value.getBoundingClientRect(),o=r.value.offsetWidth;return Math.round(e*(t.width-o)+o/2)}return 0},d=c((()=>({left:u()+"px",top:0}))),h=e=>{if(e.stopPropagation(),n.value&&r.value){const o=n.value.getBoundingClientRect(),a=r.value.offsetWidth;let s=e.clientX-o.left;s=Math.max(a/2,s),s=Math.min(s,o.width-a/2);const c=Math.round((s-a/2)/(o.width-a)*100);l.alpha=c,i.alpha=c,t("change",c)}};return oe((()=>{const e={drag:e=>{h(e)},end:e=>{h(e)}};n.value&&r.value&&z.triggerDragEvent(n.value,e)})),{barElement:n,cursorElement:r,getCursorStyle:d,getBackgroundStyle:s,onClickSider:e=>{e.target!==n.value&&h(e)}}}}),He=[(e=>(T("data-v-18925ba6"),e=e(),O(),e))((()=>x("div",{class:"vc-alpha-slider__bar-handle"},null,-1)))];const Pe=Re(Be,[["render",function(e,t,o,a,n,r){return C(),f("div",{class:R(["vc-alpha-slider","transparent",{"small-slider":"small"===e.size}])},[x("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:_(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[x("div",{class:R(["vc-alpha-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:_(e.getCursorStyle)},He,6)],4)],2)}],["__scopeId","data-v-18925ba6"]]),Ve=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],Ee=d({name:"Palette",emits:["change"],setup:(e,{emit:t})=>({palettes:Ve,computedBgStyle:e=>"transparent"===e?e:"advance"===e?{}:{background:L(e).toRgbString()},onColorChange:e=>{t("change",e)}})}),Me={class:"vc-compact"},Ie=["onClick"];const Ne=Re(Ee,[["render",function(e,t,o,a,n,r){return C(),f("div",Me,[(C(!0),f(A,null,M(e.palettes,((t,o)=>(C(),f("div",{key:o,class:"vc-compact__row"},[(C(!0),f(A,null,M(t,((t,o)=>(C(),f("div",{key:o,class:"vc-compact__color-cube--wrap",onClick:o=>e.onColorChange(t)},[x("div",{class:R(["vc-compact__color_cube",{advance:"advance"===t,transparent:"transparent"===t}]),style:_(e.computedBgStyle(t))},null,6)],8,Ie)))),128))])))),128))])}],["__scopeId","data-v-b969fd48"]]),Ke=d({name:"Board",props:{color:W.instanceOf(we),round:W.bool.def(!1),hide:W.bool.def(!0)},emits:["change"],setup(e,{emit:o}){var n,r,i;const s=l(),u={h:(null==(n=e.color)?void 0:n.hue)||0,s:1,v:1},d=new we(u).toHexString(),h=g({hueColor:d,saturation:(null==(r=e.color)?void 0:r.saturation)||0,brightness:(null==(i=e.color)?void 0:i.brightness)||0}),p=a(0),v=a(0),f=a(),C=c((()=>({top:p.value+"px",left:v.value+"px"}))),b=()=>{if(s){const e=s.vnode.el;v.value=h.saturation*(null==e?void 0:e.clientWidth),p.value=(1-h.brightness)*(null==e?void 0:e.clientHeight)}};let y=!1;const m=e=>{if(s){const t=s.vnode.el,a=null==t?void 0:t.getBoundingClientRect();let n=e.clientX-a.left,r=e.clientY-a.top;n=Ae(n,0,a.width),r=Ae(r,0,a.height);const l=n/a.width,i=Ae(-r/a.height+1,0,1);v.value=n,p.value=r,h.saturation=l,h.brightness=i,o("change",l,i)}};return oe((()=>{s&&s.vnode.el&&f.value&&t((()=>{b()}))})),ae((()=>e.color),(e=>{F(h,{hueColor:new we({h:e.hue,s:1,v:1}).toHexString(),saturation:e.saturation,brightness:e.brightness}),b()}),{deep:!0}),{state:h,cursorElement:f,getCursorStyle:C,onClickBoard:e=>{y=!0,m(e)},onDrag:e=>{y&&m(e)},onDragEnd:()=>{y=!1}}}}),Te=e=>(T("data-v-7f0cdcdf"),e=e(),O(),e),Oe=Te((()=>x("div",{class:"vc-saturation__white"},null,-1))),Le=Te((()=>x("div",{class:"vc-saturation__black"},null,-1))),De=[Te((()=>x("div",null,null,-1)))];const We=Re(Ke,[["render",function(e,t,o,a,n,r){return C(),f("div",{ref:"boardElement",class:R(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:_({backgroundColor:e.state.hueColor}),onMousedown:t[0]||(t[0]=(...t)=>e.onClickBoard&&e.onClickBoard(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.onDrag&&e.onDrag(...t)),onMouseup:t[2]||(t[2]=(...t)=>e.onDragEnd&&e.onDragEnd(...t))},[Oe,Le,x("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:_(e.getCursorStyle)},De,4)],38)}],["__scopeId","data-v-7f0cdcdf"]]),ze=d({name:"Hue",props:{color:W.instanceOf(we),size:W.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=a(null),r=a(null);let l=e.color||new we;const i=g({hue:l.hue||0});o((()=>e.color),(e=>{e&&(l=e,F(i,{hue:l.hue}))}),{deep:!0});const s=()=>{if(n.value&&r.value){const e=n.value.getBoundingClientRect(),t=r.value.offsetWidth;return 360===i.hue?e.width-t/2:i.hue%360*(e.width-t)/360+t/2}return 0},u=c((()=>({left:s()+"px",top:0}))),d=e=>{if(e.stopPropagation(),n.value&&r.value){const o=n.value.getBoundingClientRect(),a=r.value.offsetWidth;let s=e.clientX-o.left;s=Math.min(s,o.width-a/2),s=Math.max(a/2,s);const c=Math.round((s-a/2)/(o.width-a)*360);l.hue=c,i.hue=c,t("change",c)}};return oe((()=>{const e={drag:e=>{d(e)},end:e=>{d(e)}};n.value&&r.value&&z.triggerDragEvent(n.value,e)})),{barElement:n,cursorElement:r,getCursorStyle:u,onClickSider:e=>{e.target!==n.value&&d(e)}}}}),je=[(e=>(T("data-v-e1a08576"),e=e(),O(),e))((()=>x("div",{class:"vc-hue-slider__bar-handle"},null,-1)))];const Fe=Re(ze,[["render",function(e,t,o,a,n,r){return C(),f("div",{class:R(["vc-hue-slider",{"small-slider":"small"===e.size}])},[x("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[x("div",{class:R(["vc-hue-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:_(e.getCursorStyle)},je,6)],512)],2)}],["__scopeId","data-v-e1a08576"]]),Ge=d({name:"Lightness",props:{color:W.instanceOf(we),size:W.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=a(null),r=a(null);let l=e.color||new we;const[i,s,u]=l.HSL,d=g({hue:i,saturation:s,lightness:u});o((()=>e.color),(e=>{if(e){l=e;const[t,o,a]=l.HSL;F(d,{hue:t,saturation:o,lightness:a})}}),{deep:!0});const h=c((()=>{const e=L({h:d.hue,s:d.saturation,l:.8}).toPercentageRgbString(),t=L({h:d.hue,s:d.saturation,l:.6}).toPercentageRgbString(),o=L({h:d.hue,s:d.saturation,l:.4}).toPercentageRgbString(),a=L({h:d.hue,s:d.saturation,l:.2}).toPercentageRgbString();return{background:["linear-gradient(to right, rgb(255, 255, 255), ".concat(e,", ").concat(t,", ").concat(o,", ").concat(a,", rgb(0, 0, 0))"),"-webkit-linear-gradient(left, rgb(255, 255, 255), ".concat(e,", ").concat(t,", ").concat(o,", ").concat(a,", rgb(0, 0, 0))"),"-moz-linear-gradient(left, rgb(255, 255, 255), ".concat(e,", ").concat(t,", ").concat(o,", ").concat(a,", rgb(0, 0, 0))"),"-ms-linear-gradient(left, rgb(255, 255, 255), ".concat(e,", ").concat(t,", ").concat(o,", ").concat(a,", rgb(0, 0, 0))")]}})),p=()=>{if(n.value&&r.value){const e=d.lightness,t=n.value.getBoundingClientRect(),o=r.value.offsetWidth;return(1-e)*(t.width-o)+o/2}return 0},v=c((()=>({left:p()+"px",top:0}))),f=e=>{if(e.stopPropagation(),n.value&&r.value){const o=n.value.getBoundingClientRect(),a=r.value.offsetWidth;let i=e.clientX-o.left;i=Math.max(a/2,i),i=Math.min(i,o.width-a/2);const s=1-(i-a/2)/(o.width-a);l.lightness=s,t("change",s)}};return oe((()=>{const e={drag:e=>{f(e)},end:e=>{f(e)}};n.value&&r.value&&z.triggerDragEvent(n.value,e)})),{barElement:n,cursorElement:r,getCursorStyle:v,getBackgroundStyle:h,onClickSider:e=>{e.target!==n.value&&f(e)}}}}),Xe=[(e=>(T("data-v-94a50a9e"),e=e(),O(),e))((()=>x("div",{class:"vc-lightness-slider__bar-handle"},null,-1)))];const qe=Re(Ge,[["render",function(e,t,o,a,n,r){return C(),f("div",{class:R(["vc-lightness-slider",{"small-slider":"small"===e.size}])},[x("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:_(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[x("div",{class:R(["vc-lightness-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:_(e.getCursorStyle)},Xe,6)],4)],2)}],["__scopeId","data-v-94a50a9e"]]),Ye=d({name:"History",props:{colors:W.arrayOf(String).def((()=>[])),round:W.bool.def(!1)},emits:["change"],setup:(e,{emit:t})=>({onColorSelect:e=>{t("change",e)}})}),Je={key:0,class:"vc-colorPicker__record"},Ue={class:"color-list"},$e=["onClick"];const Ze=Re(Ye,[["render",function(e,t,o,a,n,r){return e.colors&&e.colors.length>0?(C(),f("div",Je,[x("div",Ue,[(C(!0),f(A,null,M(e.colors,((t,o)=>(C(),f("div",{key:o,class:R(["color-item","transparent",{"color-item__round":e.round}]),onClick:o=>e.onColorSelect(t)},[x("div",{class:"color-item__display",style:_({backgroundColor:t})},null,4)],10,$e)))),128))])])):y("",!0)}],["__scopeId","data-v-0f657238"]]),Qe=d({name:"Display",props:{color:W.instanceOf(we),disableAlpha:W.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){var o,n,r,l;const{copy:i,copied:s,isSupported:u}=de(),d=a("hex"),h=g({color:e.color,hex:null==(o=e.color)?void 0:o.hex,alpha:Math.round((null==(n=e.color)?void 0:n.alpha)||100),rgba:null==(r=e.color)?void 0:r.RGB,previewBgColor:null==(l=e.color)?void 0:l.toRgbString()}),p=c((()=>({background:h.previewBgColor}))),v=ee((e=>{if(!e.target.value)return;let o=parseInt(e.target.value.replace("%",""));o>100&&(e.target.value="100",o=100),o<0&&(e.target.value="0",o=0),isNaN(o)&&(e.target.value="100",o=100),!isNaN(o)&&h.color&&(h.color.alpha=o),t("change",h.color)}),300),f=ee(((e,o)=>{if(h.color)if("hex"===d.value){const o=e.target.value.replace("#","");L(o).isValid()?[3,4].includes(o.length)&&(h.color.hex=o):h.color.hex="000000",t("change",h.color)}else if("rgba"===d.value&&3===o&&"0."===e.target.value.toString()&&h.rgba){h.rgba[o]=e.target.value;const[a,n,r,l]=h.rgba;h.color.hex=L({r:a,g:n,b:r}).toHex(),h.color.alpha=Math.round(100*l),t("change",h.color)}}),100),C=ee(((e,o)=>{if(e.target.value){if("hex"===d.value){const t=e.target.value.replace("#","");L(t).isValid()&&h.color&&[6,8].includes(t.length)&&(h.color.hex=t)}else if(void 0!==o&&h.rgba&&h.color){if(e.target.value<0&&(e.target.value=0),3===o&&((e.target.value>1||isNaN(e.target.value))&&(e.target.value=1),"0."===e.target.value.toString()))return;o<3&&e.target.value>255&&(e.target.value=255),h.rgba[o]=e.target.value;const[t,a,n,r]=h.rgba;h.color.hex=L({r:t,g:a,b:n}).toHex(),h.color.alpha=Math.round(100*r)}t("change",h.color)}}),300);return ae((()=>e.color),(e=>{e&&(h.color=e,h.alpha=Math.round(h.color.alpha),h.hex=h.color.hex,h.rgba=h.color.RGB)}),{deep:!0}),ae((()=>h.color),(()=>{h.color&&(h.previewBgColor=h.color.toRgbString())}),{deep:!0}),{state:h,getBgColorStyle:p,inputType:d,copied:s,onInputTypeChange:()=>{d.value="rgba"===d.value?"hex":"rgba"},onAlphaBlur:v,onInputChange:C,onBlurChange:f,onCopyColorStr:()=>{if(u&&h.color){const e="hex"===d.value?h.color.toString(100===h.color.alpha?"hex6":"hex8"):h.color.toRgbString();i(e||"")}}}}}),et={class:"vc-display"},tt={class:"vc-current-color vc-transparent"},ot={key:0,class:"copy-text"},at={key:0,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},nt={class:"vc-color-input"},rt={key:0,class:"vc-alpha-input"},lt=["value"],it={key:1,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},st=["value","onInput","onBlur"];const ct=Re(Qe,[["render",function(e,t,o,a,n,r){return C(),f("div",et,[x("div",tt,[x("div",{class:"color-cube",style:_(e.getBgColorStyle),onClick:t[0]||(t[0]=(...t)=>e.onCopyColorStr&&e.onCopyColorStr(...t))},[e.copied?(C(),f("span",ot,"Copied!")):y("",!0)],4)]),"hex"===e.inputType?(C(),f("div",at,[x("div",nt,[B(x("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.hex=t),maxlength:"8",onInput:t[2]||(t[2]=(...t)=>e.onInputChange&&e.onInputChange(...t)),onBlur:t[3]||(t[3]=(...t)=>e.onBlurChange&&e.onBlurChange(...t))},null,544),[[I,e.state.hex]])]),e.disableAlpha?y("",!0):(C(),f("div",rt,[x("input",{class:"vc-alpha-input__inner",value:e.state.alpha,onInput:t[4]||(t[4]=(...t)=>e.onAlphaBlur&&e.onAlphaBlur(...t))},null,40,lt),N("% ")]))])):e.state.rgba?(C(),f("div",it,[(C(!0),f(A,null,M(e.state.rgba,((t,o)=>(C(),f("div",{class:"vc-color-input",key:o},[x("input",{value:t,onInput:t=>e.onInputChange(t,o),onBlur:t=>e.onBlurChange(t,o)},null,40,st)])))),128))])):y("",!0),x("div",{class:"vc-input-toggle",onClick:t[5]||(t[5]=(...t)=>e.onInputTypeChange&&e.onInputTypeChange(...t))},K(e.inputType),1)])}],["__scopeId","data-v-7334ac20"]]),ut=d({name:"FkColorPicker",components:{Display:ct,Alpha:Pe,Palette:Ne,Board:We,Hue:Fe,Lightness:qe,History:Ze},props:{color:W.instanceOf(we),disableHistory:W.bool.def(!1),roundHistory:W.bool.def(!1),disableAlpha:W.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:t}){const o=e.color||new we,n=g({color:o,hex:o.toHexString(),rgb:o.toRgbString()}),r=a(!1),l=c((()=>({background:n.rgb}))),i=ye(xe,[],{}),s=ee((()=>{if(e.disableHistory)return;const t=n.color.toRgbString();if(i.value=i.value.filter((e=>!L.equals(e,t))),!i.value.includes(t)){for(;i.value.length>8;)i.value.pop();i.value.unshift(t)}}),500);return ae((()=>e.color),(e=>{e&&(n.color=e)}),{deep:!0}),ae((()=>n.color),(()=>{n.hex=n.color.hex,n.rgb=n.color.toRgbString(),s(),t("update:color",n.color),t("change",n.color)}),{deep:!0}),{state:n,advancePanelShow:r,onBack:()=>{r.value=!1,t("advanceChange",!1)},onCompactChange:e=>{"advance"===e?(r.value=!0,t("advanceChange",!0)):(n.color.hex=e,t("advanceChange",!1))},onAlphaChange:e=>{n.color.alpha=e},onHueChange:e=>{n.color.hue=e},onBoardChange:(e,t)=>{n.color.saturation=e,n.color.brightness=t},onLightChange:e=>{n.color.lightness=e},onInputChange:e=>{const t=e.target.value.replace("#","");L(t).isValid()&&(n.color.hex=t)},previewStyle:l,historyColors:i}}}),dt={class:"vc-fk-colorPicker"},gt={class:"vc-fk-colorPicker__inner"},ht={class:"vc-fk-colorPicker__header"},pt=[(e=>(T("data-v-48e3c224"),e=e(),O(),e))((()=>x("div",{class:"back"},null,-1)))];const vt=Re(ut,[["render",function(e,t,o,a,n,r){const l=v("Palette"),i=v("Board"),s=v("Hue"),c=v("Lightness"),u=v("Alpha"),d=v("Display"),g=v("History");return C(),f("div",dt,[x("div",gt,[x("div",ht,[e.advancePanelShow?(C(),f("span",{key:0,style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...t)=>e.onBack&&e.onBack(...t))},pt)):y("",!0)]),e.advancePanelShow?y("",!0):(C(),b(l,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(C(),b(i,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):y("",!0),e.advancePanelShow?(C(),b(s,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):y("",!0),e.advancePanelShow?y("",!0):(C(),b(c,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?y("",!0):(C(),b(u,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),p(d,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?y("",!0):(C(),b(g,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}],["__scopeId","data-v-48e3c224"]]),ft=d({name:"ChromeColorPicker",components:{Display:ct,Alpha:Pe,Board:We,Hue:Fe,History:Ze},props:{color:W.instanceOf(we),disableHistory:W.bool.def(!1),roundHistory:W.bool.def(!1),disableAlpha:W.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){const o=e.color||new we,a=g({color:o,hex:o.toHexString(),rgb:o.toRgbString()}),n=c((()=>({background:a.rgb}))),r=ye(xe,[],{}),l=ee((()=>{if(e.disableHistory)return;const t=a.color.toRgbString();if(r.value=r.value.filter((e=>!L.equals(e,t))),!r.value.includes(t)){for(;r.value.length>8;)r.value.pop();r.value.unshift(t)}}),500);return ae((()=>e.color),(e=>{e&&(a.color=e)}),{deep:!0}),ae((()=>a.color),(()=>{a.hex=a.color.hex,a.rgb=a.color.toRgbString(),l(),t("update:color",a.color),t("change",a.color)}),{deep:!0}),{state:a,previewStyle:n,historyColors:r,onAlphaChange:e=>{a.color.alpha=e},onHueChange:e=>{a.color.hue=e},onBoardChange:(e,t)=>{a.color.saturation=e,a.color.brightness=t},onInputChange:e=>{void 0!==e.hex&&(a.color.hex=e.hex),void 0!==e.alpha&&(a.color.alpha=e.alpha)},onCompactChange:e=>{"advance"!==e&&(a.color.hex=e)}}}}),Ct={class:"vc-chrome-colorPicker"},bt={class:"vc-chrome-colorPicker-body"},yt={class:"chrome-controls"},mt={class:"chrome-sliders"};const St=Re(ft,[["render",function(e,t,o,a,n,r){const l=v("Board"),i=v("Hue"),s=v("Alpha"),c=v("Display"),u=v("History");return C(),f("div",Ct,[p(l,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),x("div",bt,[x("div",yt,[x("div",mt,[p(i,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?y("",!0):(C(),b(s,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),p(c,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?y("",!0):(C(),b(u,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}],["__scopeId","data-v-2611d66c"]]),kt="Vue3ColorPickerProvider";let wt=!1;const _t=d({name:"Angle",props:{angle:{type:Number,default:0},size:{type:Number,default:16,validator:e=>e>=16},borderWidth:{type:Number,default:1,validator:e=>e>=1},borderColor:{type:String,default:"#666"}},emits:["update:angle","change"],setup(t,{emit:n}){const r=a(null),l=a(0);o((()=>t.angle),(e=>{l.value=e}));const i=c((()=>({width:t.size+"px",height:t.size+"px",borderWidth:t.borderWidth+"px",borderColor:t.borderColor,transform:"rotate(".concat(l.value,"deg)")}))),s=e=>{r.value&&(l.value=((e,t)=>{const o=e.getBoundingClientRect(),a=o.left+o.width/2,n=o.top+o.height/2,r=Math.abs(a-t.clientX),l=Math.abs(n-t.clientY),i=l/Math.sqrt(Math.pow(r,2)+Math.pow(l,2)),s=Math.acos(i);let c=Math.floor(180/(Math.PI/s));return t.clientX>a&&t.clientY>n&&(c=180-c),t.clientX==a&&t.clientY>n&&(c=180),t.clientX>a&&t.clientY==n&&(c=90),t.clientX<a&&t.clientY>n&&(c=180+c),t.clientX<a&&t.clientY==n&&(c=270),t.clientX<a&&t.clientY<n&&(c=360-c),c})(r.value,e)%360,(()=>{let e=Number(l.value);isNaN(e)||(e=e>360||e<0?t.angle:e,l.value=360===e?0:e,n("update:angle",l.value),n("change",l.value))})())};return e((()=>{const e={drag:e=>{s(e)},end:e=>{s(e)}};r.value&&((e,t)=>{const o=function(e){var o;null==(o=t.drag)||o.call(t,e)},a=function(e){var n;document.removeEventListener("mousemove",o,!1),document.removeEventListener("mouseup",a,!1),document.onselectstart=null,document.ondragstart=null,wt=!1,null==(n=t.end)||n.call(t,e)};e&&e.addEventListener("mousedown",(e=>{var n;wt||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",a,!1),wt=!0,null==(n=t.start)||n.call(t,e))}))})(r.value,e)})),()=>p("div",{class:"bee-angle"},[p("div",{class:"bee-angle__round",ref:r,style:i.value},null)])}}),At=d({name:"GradientColorPicker",components:{Angle:_t,Display:ct,Alpha:Pe,Palette:Ne,Board:We,Hue:Fe,Lightness:qe,History:Ze},props:{startColor:W.instanceOf(we).isRequired,endColor:W.instanceOf(we).isRequired,startColorStop:W.number.def(0),endColorStop:W.number.def(100),angle:W.number.def(0),type:W.oneOf(["linear","radial"]).def("linear"),disableHistory:W.bool.def(!1),roundHistory:W.bool.def(!1),disableAlpha:W.bool.def(!1),pickerType:W.oneOf(["fk","chrome"]).def("fk")},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange","typeChange"],setup(e,{emit:t}){const n=g({startActive:!0,startColor:e.startColor,endColor:e.endColor,startColorStop:e.startColorStop,endColorStop:e.endColorStop,angle:e.angle,type:e.type,startColorRgba:e.startColor.toRgbString(),endColorRgba:e.endColor.toRgbString()}),r=h(kt),l=a("chrome"===e.pickerType),i=a(),s=a(),u=a();o((()=>[e.startColor,e.endColor,e.angle]),(e=>{n.startColor=e[0],n.endColor=e[1],n.angle=e[2]})),o((()=>e.type),(e=>{n.type=e}));const d=c({get:()=>n.startActive?n.startColor:n.endColor,set:e=>{n.startActive?n.startColor=e:n.endColor=e}}),p=c((()=>{if(u.value&&i.value){const e=n.startColorStop/100,t=u.value.getBoundingClientRect(),o=i.value.offsetWidth;return Math.round(e*(t.width-o)+o/2)}return 0})),v=c((()=>{if(u.value&&s.value){const e=n.endColorStop/100,t=u.value.getBoundingClientRect(),o=s.value.offsetWidth;return Math.round(e*(t.width-o)+o/2)}return 0})),f=c((()=>{let e="background: linear-gradient(".concat(n.angle,"deg, ").concat(n.startColorRgba," ").concat(n.startColorStop,"%, ").concat(n.endColorRgba," ").concat(n.endColorStop,"%)");return"radial"===n.type&&(e="background: radial-gradient(circle, ".concat(n.startColorRgba," ").concat(n.startColorStop,"%, ").concat(n.endColorRgba," ").concat(n.endColorStop,"%)")),e})),C=e=>{var o;if(n.startActive=!0,u.value&&i.value){const a=null==(o=u.value)?void 0:o.getBoundingClientRect();let r=e.clientX-a.left;r=Math.max(i.value.offsetWidth/2,r),r=Math.min(r,a.width-i.value.offsetWidth/2),n.startColorStop=Math.round((r-i.value.offsetWidth/2)/(a.width-i.value.offsetWidth)*100),t("update:startColorStop",n.startColorStop),t("startColorStopChange",n.startColorStop)}},b=e=>{var o;if(n.startActive=!1,u.value&&s.value){const a=null==(o=u.value)?void 0:o.getBoundingClientRect();let r=e.clientX-a.left;r=Math.max(s.value.offsetWidth/2,r),r=Math.min(r,a.width-s.value.offsetWidth/2),n.endColorStop=Math.round((r-s.value.offsetWidth/2)/(a.width-s.value.offsetWidth)*100),t("update:endColorStop",n.endColorStop),t("endColorStopChange",n.endColorStop)}},y=()=>{n.startActive?(t("update:startColor",n.startColor),t("startColorChange",n.startColor)):(t("update:endColor",n.endColor),t("endColorChange",n.endColor))},m=ye(xe,[],{}),S=ee((()=>{if(e.disableHistory)return;const t=d.value.toRgbString();if(m.value=m.value.filter((e=>!L.equals(e,t))),!m.value.includes(t)){for(;m.value.length>8;)m.value.pop();m.value.unshift(t)}}),500);return oe((()=>{s.value&&i.value&&(z.triggerDragEvent(s.value,{drag:e=>{b(e)},end:e=>{b(e)}}),z.triggerDragEvent(i.value,{drag:e=>{C(e)},end:e=>{C(e)}}))})),ae((()=>n.startColor),(e=>{n.startColorRgba=e.toRgbString()}),{deep:!0}),ae((()=>n.endColor),(e=>{n.endColorRgba=e.toRgbString()}),{deep:!0}),ae((()=>d.value),(()=>{S()}),{deep:!0}),{startGradientRef:i,stopGradientRef:s,colorRangeRef:u,state:n,currentColor:d,getStartColorLeft:p,getEndColorLeft:v,gradientBg:f,advancePanelShow:l,onDegreeBlur:e=>{const o=e.target,a=parseInt(o.value.replace("°",""));isNaN(a)||(n.angle=a%360),t("update:angle",n.angle),t("angleChange",n.angle)},onCompactChange:e=>{"advance"===e?(l.value=!0,t("advanceChange",!0)):(d.value.hex=e,t("advanceChange",!1)),y()},onAlphaChange:e=>{d.value.alpha=e,y()},onHueChange:e=>{d.value.hue=e,y()},onBoardChange:(e,t)=>{d.value.saturation=e,d.value.brightness=t,y()},onLightChange:e=>{d.value.lightness=e,y()},historyColors:m,onBack:()=>{l.value=!1,t("advanceChange",!1)},onDegreeChange:e=>{n.angle=e,t("update:angle",n.angle),t("angleChange",n.angle)},onDisplayChange:()=>{y()},onTypeChange:()=>{n.type="linear"===n.type?"radial":"linear",t("typeChange",n.type)},lang:null==r?void 0:r.lang}}}),xt=e=>(T("data-v-c4d6d6ea"),e=e(),O(),e),Rt={class:"vc-gradient-picker"},Bt={class:"vc-gradient-picker__header"},Ht={class:"vc-gradient__types"},Pt={class:"vc-gradient-wrap__types"},Vt={class:"vc-picker-degree-input vc-degree-input"},Et={class:"vc-degree-input__control"},Mt=["value"],It={class:"vc-degree-input__panel"},Nt={class:"vc-degree-input__disk"},Kt={class:"vc-gradient-picker__body"},Tt={class:"vc-color-range",ref:"colorRangeRef"},Ot={class:"vc-color-range__container"},Lt={class:"vc-gradient__stop__container"},Dt=["title"],Wt=[xt((()=>x("span",{class:"vc-gradient__stop--inner"},null,-1)))],zt=["title"],jt=[xt((()=>x("span",{class:"vc-gradient__stop--inner"},null,-1)))];const Ft=Re(At,[["render",function(e,t,o,a,n,r){var l,i;const s=v("Angle"),c=v("Board"),u=v("Hue"),d=v("Palette"),g=v("Lightness"),h=v("Alpha"),m=v("Display"),S=v("History");return C(),f("div",Rt,[x("div",Bt,[x("div",null,[B(x("div",{class:"back",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...t)=>e.onBack&&e.onBack(...t))},null,512),[[H,"fk"===e.pickerType&&e.advancePanelShow]])]),x("div",Ht,[x("div",Pt,[(C(),f(A,null,M(["linear","radial"],(o=>x("div",{class:R(["vc-gradient__type",{active:e.state.type===o}]),key:o,onClick:t[1]||(t[1]=(...t)=>e.onTypeChange&&e.onTypeChange(...t))},K(e.lang?e.lang[o]:o),3))),64))]),B(x("div",Vt,[x("div",Et,[x("input",{value:e.state.angle,onBlur:t[2]||(t[2]=(...t)=>e.onDegreeBlur&&e.onDegreeBlur(...t))},null,40,Mt),N("deg ")]),x("div",It,[x("div",Nt,[p(s,{angle:e.state.angle,"onUpdate:angle":t[3]||(t[3]=t=>e.state.angle=t),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])],512),[[H,"linear"===e.state.type]])])]),x("div",Kt,[x("div",Tt,[x("div",Ot,[x("div",{class:"vc-background",style:_(e.gradientBg)},null,4),x("div",Lt,[x("div",{class:R(["vc-gradient__stop",{"vc-gradient__stop--current":e.state.startActive}]),ref:"startGradientRef",title:null==(l=e.lang)?void 0:l.start,style:_({left:e.getStartColorLeft+"px",backgroundColor:e.state.startColorRgba})},Wt,14,Dt),x("div",{class:R(["vc-gradient__stop",{"vc-gradient__stop--current":!e.state.startActive}]),ref:"stopGradientRef",title:null==(i=e.lang)?void 0:i.end,style:_({left:e.getEndColorLeft+"px",backgroundColor:e.state.endColorRgba})},jt,14,zt)])])],512)]),e.advancePanelShow?(C(),b(c,{key:0,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):y("",!0),e.advancePanelShow?(C(),b(u,{key:1,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):y("",!0),e.advancePanelShow?y("",!0):(C(),b(d,{key:2,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?y("",!0):(C(),b(g,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?y("",!0):(C(),b(h,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),p(m,{color:e.currentColor,"disable-alpha":e.disableAlpha,onChange:e.onDisplayChange},null,8,["color","disable-alpha","onChange"]),e.disableHistory?y("",!0):(C(),b(S,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}],["__scopeId","data-v-c4d6d6ea"]]),Gt=d({name:"WrapContainer",props:{theme:W.oneOf(["white","black"]).def("white"),showTab:W.bool.def(!1),activeKey:W.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:t}){const o=g({activeKey:e.activeKey}),a=h(kt);return ae((()=>e.activeKey),(e=>{o.activeKey=e})),{state:o,onActiveKeyChange:e=>{o.activeKey=e,t("update:activeKey",e),t("change",e)},lang:null==a?void 0:a.lang}}}),Xt={class:"vc-colorpicker--container"},qt={key:0,class:"vc-colorpicker--tabs"},Yt={class:"vc-colorpicker--tabs__inner"},Jt={class:"vc-btn__content"},Ut={class:"vc-btn__content"};const $t=Re(Gt,[["render",function(e,t,o,a,n,r){var l,i;return C(),f("div",{class:R(["vc-colorpicker",e.theme])},[x("div",Xt,[e.showTab?(C(),f("div",qt,[x("div",Yt,[x("div",{class:R(["vc-colorpicker--tabs__btn",{"vc-btn-active":"pure"===e.state.activeKey}]),onClick:t[0]||(t[0]=t=>e.onActiveKeyChange("pure"))},[x("button",null,[x("div",Jt,K(null==(l=e.lang)?void 0:l.pure),1)])],2),x("div",{class:R(["vc-colorpicker--tabs__btn",{"vc-btn-active":"gradient"===e.state.activeKey}]),onClick:t[1]||(t[1]=t=>e.onActiveKeyChange("gradient"))},[x("button",null,[x("div",Ut,K(null==(i=e.lang)?void 0:i.gradient),1)])],2),x("div",{class:"vc-colorpicker--tabs__bg",style:_({width:"50%",left:"calc(".concat("gradient"===e.state.activeKey?50:0,"%)")})},null,4)])])):y("",!0),w(e.$slots,"default",{},void 0,!0)])],2)}],["__scopeId","data-v-0492277d"]]),Zt={En:{start:"Start",end:"End",pure:"Pure",gradient:"Gradient",linear:"linear",radial:"radial"},"ZH-cn":{start:"开始",end:"结束",pure:"纯色",gradient:"渐变",linear:"线性",radial:"径向"}},Qt={isWidget:W.bool.def(!1),pickerType:W.oneOf(["fk","chrome"]).def("fk"),shape:W.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:W.string.def("linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)"),format:{type:String,default:"rgb"},disableAlpha:W.bool.def(!1),disableHistory:W.bool.def(!1),roundHistory:W.bool.def(!1),useType:W.oneOf(["pure","gradient","both"]).def("pure"),activeKey:W.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:W.number.def(9999),pickerContainer:{type:[String,HTMLElement],default:"body"},debounce:W.number.def(100),theme:W.oneOf(["white","black"]).def("white"),blurClose:W.bool.def(!1),defaultPopup:W.bool.def(!1)},eo=d({name:"ColorPicker",components:{FkColorPicker:vt,ChromeColorPicker:St,GradientColorPicker:Ft,WrapContainer:$t},inheritAttrs:!1,props:Qt,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(e,{emit:t}){V(kt,{lang:c((()=>Zt[e.lang||"ZH-cn"]))});const o=!!E().extra,n=g({pureColor:e.pureColor||"",activeKey:"gradient"===e.useType?"gradient":e.activeKey,isAdvanceMode:!1}),r=new we("#000"),l=new we("#000"),i=new we(n.pureColor),s=g({startColor:r,endColor:l,startColorStop:0,endColorStop:100,angle:0,type:"linear",gradientColor:e.gradientColor}),u=a(i),d=a(e.defaultPopup),h=a(null),p=a(null);let v=null;const f=c((()=>({background:"gradient"!==n.activeKey?L(n.pureColor).toRgbString():s.gradientColor}))),C=c((()=>"gradient"===n.activeKey?Ft.name:"fk"===e.pickerType?vt.name:St.name)),b=e=>{n.isAdvanceMode=e},y=c((()=>{const t={disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,pickerType:e.pickerType};return"gradient"===n.activeKey?{...t,startColor:s.startColor,endColor:s.endColor,angle:s.angle,type:s.type,startColorStop:s.startColorStop,endColorStop:s.endColorStop,onStartColorChange:e=>{s.startColor=e,w()},onEndColorChange:e=>{s.endColor=e,w()},onStartColorStopChange:e=>{s.startColorStop=e,w()},onEndColorStopChange:e=>{s.endColorStop=e,w()},onAngleChange:e=>{s.angle=e,w()},onTypeChange:e=>{s.type=e,w()},onAdvanceChange:b}:{...t,disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:u.value,onChange:x,onAdvanceChange:b}})),m=()=>{d.value=!1},S=ee((()=>{!e.isWidget&&e.blurClose&&m()}),100);!function(e,t,o={}){const{window:a=re,ignore:n=[],capture:r=!0,detectIframe:l=!1}=o;if(!a)return J;U&&!se&&(se=!0,Array.from(a.document.body.children).forEach((e=>e.addEventListener("click",J))),a.document.documentElement.addEventListener("click",J));let i=!0;const s=e=>n.some((t=>{if("string"==typeof t)return Array.from(a.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const o=ne(t);return o&&(e.target===o||e.composedPath().includes(o))}})),c=[ie(a,"click",(o=>{const a=ne(e);a&&a!==o.target&&!o.composedPath().includes(a)&&(0===o.detail&&(i=!s(o)),i?t(o):i=!0)}),{passive:!0,capture:r}),ie(a,"pointerdown",(t=>{const o=ne(e);i=!s(t)&&!(!o||t.composedPath().includes(o))}),{passive:!0}),l&&ie(a,"blur",(o=>{setTimeout((()=>{var n;const r=ne(e);"IFRAME"!==(null==(n=a.document.activeElement)?void 0:n.tagName)||(null==r?void 0:r.contains(a.document.activeElement))||t(o)}),0)}))].filter(Boolean)}(p,(()=>{m()}));const k=()=>{var e,t,o,a;try{const[n]=D.parse(s.gradientColor);if(n&&n.type.includes("gradient")&&n.colorStops.length>=2){const r=n.colorStops[0],l=n.colorStops[1];s.startColorStop=Number(null==(e=r.length)?void 0:e.value)||0,s.endColorStop=Number(null==(t=l.length)?void 0:t.value)||0,"linear-gradient"===n.type&&"angular"===(null==(o=n.orientation)?void 0:o.type)&&(s.angle=Number(null==(a=n.orientation)?void 0:a.value)||0),s.type=n.type.split("-")[0];const[i,c,u,d]=r.value,[g,h,p,v]=l.value;s.startColor=new we({r:Number(i),g:Number(c),b:Number(u),a:Number(d)}),s.endColor=new we({r:Number(g),g:Number(h),b:Number(p),a:Number(v)})}}catch(n){}},w=ee((()=>{const e=_();try{s.gradientColor=D.stringify(e),t("update:gradientColor",s.gradientColor),t("gradientColorChange",s.gradientColor)}catch(o){}}),e.debounce),_=()=>{const e=[],t=s.startColor.RGB.map((e=>e.toString())),o=s.endColor.RGB.map((e=>e.toString())),a=[{type:"rgba",value:[t[0],t[1],t[2],t[3]],length:{value:s.startColorStop+"",type:"%"}},{type:"rgba",value:[o[0],o[1],o[2],o[3]],length:{value:s.endColorStop+"",type:"%"}}];return"linear"===s.type?e.push({type:"linear-gradient",orientation:{type:"angular",value:s.angle+""},colorStops:a}):"radial"===s.type&&e.push({type:"radial-gradient",orientation:[{type:"shape",value:"circle"}],colorStops:a}),e},A=()=>{h.value&&p.value&&(v=j(h.value,p.value,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{allowedAutoPlacements:["top","bottom","left","right"],rootBoundary:"viewport"}}]}))},x=t=>{u.value=t,n.pureColor=t.toString(e.format),R()},R=ee((()=>{t("update:pureColor",n.pureColor),t("pureColorChange",n.pureColor)}),e.debounce);return oe((()=>{k(),v||A()})),ae((()=>e.gradientColor),(e=>{e!=s.gradientColor&&(s.gradientColor=e)})),ae((()=>s.gradientColor),(()=>{k()})),ae((()=>e.activeKey),(e=>{n.activeKey=e})),ae((()=>e.useType),(e=>{"gradient"!==n.activeKey&&"gradient"===e?n.activeKey="gradient":n.activeKey="pure"})),ae((()=>e.pureColor),(e=>{L.equals(e,n.pureColor)||(n.pureColor=e,u.value=new we(e))}),{deep:!0}),{colorCubeRef:h,pickerRef:p,showPicker:d,colorInstance:u,getBgColorStyle:f,getComponentName:C,getBindArgs:y,state:n,hasExtra:o,onColorChange:x,onShowPicker:()=>{d.value=!0,v?v.update():A()},onActiveKeyChange:e=>{n.activeKey=e,t("update:activeKey",e),t("activeKeyChange",e)},onAutoClose:S}}}),to={key:0,class:"vc-color-extra"},oo={key:0,class:"vc-color-extra"};const ao=Re(eo,[["render",function(e,t,o,a,n,r){const l=v("WrapContainer");return C(),f(A,null,[e.isWidget?(C(),b(l,{key:0,"active-key":e.state.activeKey,"onUpdate:activeKey":t[0]||(t[0]=t=>e.state.activeKey=t),"show-tab":"both"===e.useType,style:_({zIndex:e.zIndex}),theme:e.theme,onChange:e.onActiveKeyChange},{default:m((()=>[(C(),b(S(e.getComponentName),k({key:e.getComponentName},e.getBindArgs),null,16)),e.hasExtra?(C(),f("div",to,[w(e.$slots,"extra",{},void 0,!0)])):y("",!0)])),_:3},8,["active-key","show-tab","style","theme","onChange"])):y("",!0),e.isWidget?y("",!0):(C(),f(A,{key:1},[x("div",{class:R(["vc-color-wrap transparent",{round:"circle"===e.shape}]),ref:"colorCubeRef"},[x("div",{class:"current-color",style:_(e.getBgColorStyle),onClick:t[1]||(t[1]=(...t)=>e.onShowPicker&&e.onShowPicker(...t))},null,4)],2),(C(),b(P,{to:e.pickerContainer},[B(x("div",{ref:"pickerRef",style:_({zIndex:e.zIndex}),onMouseleave:t[3]||(t[3]=(...t)=>e.onAutoClose&&e.onAutoClose(...t))},[e.showPicker?(C(),b(l,{key:0,"show-tab":"both"===e.useType&&!e.state.isAdvanceMode,theme:e.theme,"active-key":e.state.activeKey,"onUpdate:activeKey":t[2]||(t[2]=t=>e.state.activeKey=t),onChange:e.onActiveKeyChange},{default:m((()=>[(C(),b(S(e.getComponentName),k({key:e.getComponentName},e.getBindArgs),null,16)),e.hasExtra?(C(),f("div",oo,[w(e.$slots,"extra",{},void 0,!0)])):y("",!0)])),_:3},8,["show-tab","theme","active-key","onChange"])):y("",!0)],36),[[H,e.showPicker]])],8,["to"]))],64))],64)}],["__scopeId","data-v-354ca836"]]);export{ao as r};
